---
📅 **날짜**: 2025년 3월 6일 (목)
👤 **작성자**: 강철원 (연구책임자) | **승인**: 강혜림 (대표)
📊 **진행 단계**: 3단계 - 고도화 및 사업화
🎯 **주요 작업**: 부하 테스트 및 스케일링 검증
---

# AI 기반 다국어 음성 합성 및 실시간 립싱크 더빙 시스템 개발일지

## 📋 오늘의 작업 내용

### 1. 부하 테스트 (Locust)

- **시나리오**: 동시 접속자 50명이 1분 간격으로 영상 업로드 및 더빙 요청.
- **결과**:
  - 초기: 응답 시간 5초 -> 30초로 증가 (병목 발생).
  - 스케일 아웃 후: 인스턴스 3대로 늘어나며 응답 시간 5초로 안정화.

### 2. 스케일링 속도 검증

- **Warm Pool 미적용**: 새 인스턴스 투입까지 5분 소요.
- **Warm Pool 적용**: 1분 내 투입 확인.

## 🔧 기술적 진행사항

### Locustfile (`locustfile.py`)

```python
from locust import HttpUser, task, between

class WebsiteUser(HttpUser):
    wait_time = between(1, 5)

    @task
    def dubbing_task(self):
        self.client.post("/api/upload", files={'file': open('test.mp4', 'rb')})
        self.client.post("/api/dubbing", json={'target_lang': 'ja'})
```

## 📊 진행 상황

| 항목 | 계획 | 실제 | 상태 |
|------|------|------|------|
| 부하 테스트 | 완료 | 완료 | ✅ |
| 스케일링 검증 | 완료 | 완료 | ✅ |

## 🚧 이슈 사항 및 해결 방안

- **DB 병목**: WAS는 늘어났는데 DB 커넥션이 부족해짐. -> RDS Proxy 도입하여 커넥션 풀링 관리.

## 📝 내일 계획

1. 보안 점검 (WAF, Security Group)
2. 주간 성과 정리

---

## 📚 참고 자료

- [1] "Locust Load Testing". [Link](https://locust.io/)

<details>
<summary>IRIS 붙여넣기용 HTML 코드</summary>

```html
<h3>1. 부하 테스트 (Locust)</h3>
<ul>
<li><strong>시나리오</strong>: 동시 접속자 50명이 1분 간격으로 영상 업로드 및 더빙 요청.</li>
<li><strong>결과</strong>:
<ul>
<li>초기: 응답 시간 5초 -&gt; 30초로 증가 (병목 발생).</li>
<li>스케일 아웃 후: 인스턴스 3대로 늘어나며 응답 시간 5초로 안정화.</li>
</ul>
</li>
</ul>
<h3>2. 스케일링 속도 검증</h3>
<ul>
<li><strong>Warm Pool 미적용</strong>: 새 인스턴스 투입까지 5분 소요.</li>
<li><strong>Warm Pool 적용</strong>: 1분 내 투입 확인.</li>
</ul>
```

</details>
