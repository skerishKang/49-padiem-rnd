---
📅 **날짜**: 2025년 3월 17일 (월)
👤 **작성자**: 강철원 (연구책임자) | **승인**: 강혜림 (대표)
📊 **진행 단계**: 3단계 - 고도화 및 사업화
🎯 **주요 작업**: 결제 모듈 연동 (PG사 계약)
---

# AI 기반 다국어 음성 합성 및 실시간 립싱크 더빙 시스템 개발일지

## 📋 오늘의 작업 내용

### 1. PG사 선정 및 계약

- **대상**: PortOne (구 아임포트). 국내외 결제 수단(카드, 카카오페이, PayPal 등)을 통합 지원.
- **절차**: 테스트 계정 발급 -> 연동 개발 -> 심사 요청 -> 라이브 전환.

### 2. 결제 프로세스 설계

- **Flow**: 요금제 선택 -> 결제 창 호출 -> 결제 승인 -> 서버 알림(Webhook) -> 크레딧 충전.
- **보안**: 결제 금액 위변조 방지를 위해 서버 사이드에서 결제 검증 로직 필수 구현.

## 🔧 기술적 진행사항

### PortOne 연동 (Frontend)

```javascript
IMP.request_pay({
    pg: "html5_inicis",
    pay_method: "card",
    merchant_uid: "order_" + new Date().getTime(),
    name: "Pro Plan Subscription",
    amount: 19900,
    buyer_email: "user@example.com"
}, function(rsp) {
    if (rsp.success) {
        // 서버로 검증 요청
    }
});
```

## 📊 진행 상황

| 항목 | 계획 | 실제 | 상태 |
|------|------|------|------|
| PG사 선정 | 완료 | 완료 | ✅ |
| 프로세스 설계 | 완료 | 완료 | ✅ |

## 🚧 이슈 사항 및 해결 방안

- **정기 결제**: 구독 모델을 위해 빌링키(Billing Key) 발급 방식 사용. -> 카드 정보를 저장하지 않고 토큰만 저장하여 보안성 확보.

## 📝 내일 계획

1. 백엔드 결제 검증 로직 구현
2. Webhook 처리 (결제 성공/실패/취소)

---

## 📚 참고 자료

- [1] "PortOne Docs". [Link](https://docs.portone.io/)

<details>
<summary>IRIS 붙여넣기용 HTML 코드</summary>

```html
<h3>1. PG사 선정 및 계약</h3>
<ul>
<li><strong>대상</strong>: PortOne (구 아임포트). 국내외 결제 수단(카드, 카카오페이, PayPal 등)을 통합 지원.</li>
<li><strong>절차</strong>: 테스트 계정 발급 -&gt; 연동 개발 -&gt; 심사 요청 -&gt; 라이브 전환.</li>
</ul>
<h3>2. 결제 프로세스 설계</h3>
<ul>
<li><strong>Flow</strong>: 요금제 선택 -&gt; 결제 창 호출 -&gt; 결제 승인 -&gt; 서버 알림(Webhook) -&gt; 크레딧 충전.</li>
<li><strong>보안</strong>: 결제 금액 위변조 방지를 위해 서버 사이드에서 결제 검증 로직 필수 구현.</li>
</ul>
```

</details>
