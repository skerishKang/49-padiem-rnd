---
📅 **날짜**: 2025년 5월 22일 (목)
👤 **작성자**: 강철원 (연구책임자) | **승인**: 강혜림 (대표)
📊 **진행 단계**: 3단계 - 고도화 및 사업화
🎯 **주요 작업**: 장애 복구 훈련 (Chaos Engineering)
---

# AI 기반 다국어 음성 합성 및 실시간 립싱크 더빙 시스템 개발일지

## 📋 오늘의 작업 내용

### 1. 훈련 시나리오

- **DB 장애**: Primary DB 강제 종료 -> Standby DB로 자동 Failover 되는지 확인.
- **Worker 장애**: Celery Worker 프로세스 킬 -> 작업이 큐에 남아있다가 재기동 시 처리되는지 확인.
- **가용 영역(AZ) 장애**: 특정 AZ의 EC2 인스턴스 종료 -> Auto Scaling Group이 다른 AZ에 인스턴스 생성하는지 확인.

### 2. 결과

- **DB**: 30초 내 Failover 완료. (서비스 일시 중단 발생)
- **Worker**: RabbitMQ의 내구성(Durability) 덕분에 작업 유실 없음.
- **ASG**: 3분 내 신규 인스턴스 투입 완료.

## 🔧 기술적 진행사항

### AWS Fault Injection Simulator (FIS)

- AWS FIS를 사용하여 통제된 환경에서 장애 주입.

## 📊 진행 상황

| 항목 | 계획 | 실제 | 상태 |
|------|------|------|------|
| 시나리오 설계 | 완료 | 완료 | ✅ |
| 훈련 수행 | 완료 | 완료 | ✅ |

## 🚧 이슈 사항 및 해결 방안

- **DB 연결 끊김**: Failover 시 애플리케이션에서 DB 커넥션 에러 발생. -> SQLAlchemy의 `pool_pre_ping=True` 옵션으로 끊긴 연결 자동 감지 및 재연결.

## 📝 내일 계획

1. 주간 성과 정리
2. 5월 월간 보고서 작성 준비

---

## 📚 참고 자료

- [1] "Principles of Chaos Engineering". [Link](https://principlesofchaos.org/)

<details>
<summary>IRIS 붙여넣기용 HTML 코드</summary>

```html
<h3>1. 훈련 시나리오</h3>
<ul>
<li><strong>DB 장애</strong>: Primary DB 강제 종료 -&gt; Standby DB로 자동 Failover 되는지 확인.</li>
<li><strong>Worker 장애</strong>: Celery Worker 프로세스 킬 -&gt; 작업이 큐에 남아있다가 재기동 시 처리되는지 확인.</li>
<li><strong>가용 영역(AZ) 장애</strong>: 특정 AZ의 EC2 인스턴스 종료 -&gt; Auto Scaling Group이 다른 AZ에 인스턴스 생성하는지 확인.</li>
</ul>
<h3>2. 결과</h3>
<ul>
<li><strong>DB</strong>: 30초 내 Failover 완료. (서비스 일시 중단 발생)</li>
<li><strong>Worker</strong>: RabbitMQ의 내구성(Durability) 덕분에 작업 유실 없음.</li>
<li><strong>ASG</strong>: 3분 내 신규 인스턴스 투입 완료.</li>
</ul>
```

</details>
