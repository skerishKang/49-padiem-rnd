---
📅 **날짜**: 2025년 7월 7일 (월)
👤 **작성자**: 강철원 (연구책임자) | **승인**: 강혜림 (대표)
📊 **진행 단계**: 3단계 - 고도화 및 사업화
🎯 **주요 작업**: Waveform 시각화
---

# AI 기반 다국어 음성 합성 및 실시간 립싱크 더빙 시스템 개발일지

## 📋 오늘의 작업 내용

### 1. 라이브러리 선정

- **wavesurfer.js**: 웹 기반 오디오 파형 시각화의 표준. 기능 강력하고 플러그인 풍부.
- **Streamlit 연동**: `streamlit-wavesurfer` 컴포넌트 활용 또는 Custom Component 제작.

### 2. UI 구현

- 영상에서 오디오 추출 -> 파형 데이터 생성 -> 프론트엔드 전달 -> 캔버스에 그리기.
- **Regions Plugin**: 구간 선택 및 라벨링을 위해 wavesurfer의 Regions 플러그인 사용.

## 🔧 기술적 진행사항

### 오디오 추출 (Python)

```python
subprocess.call(['ffmpeg', '-i', video_path, '-ac', '1', '-filter:a', 'aresample=8000', '-map', '0:a', '-c:a', 'pcm_s16le', '-f', 'wav', audio_path])
```

## 📊 진행 상황

| 항목 | 계획 | 실제 | 상태 |
|------|------|------|------|
| 라이브러리 선정 | 완료 | 완료 | ✅ |
| 오디오 추출 | 완료 | 완료 | ✅ |

## 🚧 이슈 사항 및 해결 방안

- **대용량 파일**: 긴 영상의 경우 파형 로딩이 느림. -> `audiowaveform` CLI 툴을 사용하여 미리 JSON 형태의 파형 데이터를 생성해두고 로드.

## 📝 내일 계획

1. 구간 선택 인터랙션 구현
2. 선택된 구간 정보(Start, End) 서버 전송

---

## 📚 참고 자료

- [1] "wavesurfer.js". [Link](https://wavesurfer-js.org/)

<details>
<summary>IRIS 붙여넣기용 HTML 코드</summary>

```html
<h3>1. 라이브러리 선정</h3>
<ul>
<li><strong>wavesurfer.js</strong>: 웹 기반 오디오 파형 시각화의 표준. 기능 강력하고 플러그인 풍부.</li>
<li><strong>Streamlit 연동</strong>: <code>streamlit-wavesurfer</code> 컴포넌트 활용 또는 Custom Component 제작.</li>
</ul>
<h3>2. UI 구현</h3>
<ul>
<li>영상에서 오디오 추출 -&gt; 파형 데이터 생성 -&gt; 프론트엔드 전달 -&gt; 캔버스에 그리기.</li>
<li><strong>Regions Plugin</strong>: 구간 선택 및 라벨링을 위해 wavesurfer의 Regions 플러그인 사용.</li>
</ul>
```

</details>
