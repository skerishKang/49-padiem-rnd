---
ğŸ“… **ë‚ ì§œ**: 2025ë…„ 9ì›” 22ì¼ (ì›”)
ğŸ‘¤ **ì‘ì„±ì**: ê°•ì² ì› (ì—°êµ¬ì±…ì„ì) | **ìŠ¹ì¸**: ê°•í˜œë¦¼ (ëŒ€í‘œ)
ğŸ“Š **ì§„í–‰ ë‹¨ê³„**: 3ë‹¨ê³„ - ê³ ë„í™” ë° ì‚¬ì—…í™”
ğŸ¯ **ì£¼ìš” ì‘ì—…**: DB ì¸ë±ìŠ¤ ìµœì í™”
---

# AI ê¸°ë°˜ ë‹¤êµ­ì–´ ìŒì„± í•©ì„± ë° ì‹¤ì‹œê°„ ë¦½ì‹±í¬ ë”ë¹™ ì‹œìŠ¤í…œ ê°œë°œì¼ì§€

## ğŸ“‹ ì˜¤ëŠ˜ì˜ ì‘ì—… ë‚´ìš©

### 1. ìŠ¬ë¡œìš° ì¿¼ë¦¬ ë¶„ì„

- `pg_stat_statements`ë¥¼ í†µí•´ ì‹¤í–‰ ì‹œê°„ì´ ê¸´ ì¿¼ë¦¬ ì‹ë³„.
- **ë¬¸ì œ**: `videos` í…Œì´ë¸”ì—ì„œ `user_id`ë¡œ ì¡°íšŒ ì‹œ ì •ë ¬(`created_at DESC`) ì¡°ê±´ì´ ë¶™ìœ¼ë©´ ëŠë ¤ì§.

### 2. ì¸ë±ìŠ¤ ì ìš©

- ë³µí•© ì¸ë±ìŠ¤ ìƒì„±: `CREATE INDEX idx_videos_user_created ON videos (user_id, created_at DESC);`
- **ê²°ê³¼**: ì¡°íšŒ ì†ë„ 500ms -> 10msë¡œ ë‹¨ì¶•.

## ğŸ”§ ê¸°ìˆ ì  ì§„í–‰ì‚¬í•­

### Explain Analyze

- ì¿¼ë¦¬ ì‹¤í–‰ ê³„íš(Query Plan)ì„ í™•ì¸í•˜ì—¬ ì¸ë±ìŠ¤ ìŠ¤ìº”(Index Scan) ì—¬ë¶€ ê²€ì¦.

## ğŸ“Š ì§„í–‰ ìƒí™©

| í•­ëª© | ê³„íš | ì‹¤ì œ | ìƒíƒœ |
|------|------|------|------|
| ì¿¼ë¦¬ ë¶„ì„ | ì™„ë£Œ | ì™„ë£Œ | âœ… |
| ì¸ë±ìŠ¤ ì ìš© | ì™„ë£Œ | ì™„ë£Œ | âœ… |

## ğŸš§ ì´ìŠˆ ì‚¬í•­ ë° í•´ê²° ë°©ì•ˆ

- **ë§ˆì´ê·¸ë ˆì´ì…˜**: ìš´ì˜ ì¤‘ì¸ DBì— ì¸ë±ìŠ¤ ìƒì„± ì‹œ ë½(Lock) ë°œìƒ ê°€ëŠ¥ì„±. -> `CONCURRENTLY` ì˜µì…˜ ì‚¬ìš©í•˜ì—¬ ë½ ì—†ì´ ìƒì„±.

## ğŸ“ ë‚´ì¼ ê³„íš

1. API ìºì‹± (Redis)
2. ì •ì  ìì› ìµœì í™”

---

## ğŸ“š ì°¸ê³  ìë£Œ

- [1] "PostgreSQL Indexing". [Link](https://www.postgresql.org/docs/current/indexes.html)

<details>
<summary>IRIS ë¶™ì—¬ë„£ê¸°ìš© HTML ì½”ë“œ</summary>

```html
<h3>1. ìŠ¬ë¡œìš° ì¿¼ë¦¬ ë¶„ì„</h3>
<ul>
<li><code>pg_stat_statements</code>ë¥¼ í†µí•´ ì‹¤í–‰ ì‹œê°„ì´ ê¸´ ì¿¼ë¦¬ ì‹ë³„.</li>
<li><strong>ë¬¸ì œ</strong>: <code>videos</code> í…Œì´ë¸”ì—ì„œ <code>user_id</code>ë¡œ ì¡°íšŒ ì‹œ ì •ë ¬(<code>created_at DESC</code>) ì¡°ê±´ì´ ë¶™ìœ¼ë©´ ëŠë ¤ì§.</li>
</ul>
<h3>2. ì¸ë±ìŠ¤ ì ìš©</h3>
<ul>
<li>ë³µí•© ì¸ë±ìŠ¤ ìƒì„±: <code>CREATE INDEX idx_videos_user_created ON videos (user_id, created_at DESC);</code></li>
<li><strong>ê²°ê³¼</strong>: ì¡°íšŒ ì†ë„ 500ms -&gt; 10msë¡œ ë‹¨ì¶•.</li>
</ul>
```

</details>
