---
📅 **날짜**: 2025년 9월 25일 (목)
👤 **작성자**: 강철원 (연구책임자) | **승인**: 강혜림 (대표)
📊 **진행 단계**: 3단계 - 고도화 및 사업화
🎯 **주요 작업**: 팀 초대 메일 발송
---

# AI 기반 다국어 음성 합성 및 실시간 립싱크 더빙 시스템 개발일지

## 📋 오늘의 작업 내용

### 1. 초대 메일 템플릿

- **제목**: "[PADIEM] 강철원님이 '개발팀' 워크스페이스에 초대했습니다."
- **내용**: 팀 이름, 초대자 이름, '수락하기' 버튼.
- **링크**: `/invite/accept?token={jwt_token}` 형식. 토큰에는 팀 ID, 이메일, 역할 정보 포함. 유효기간 24시간.

### 2. 발송 로직

- AWS SES 사용.
- 이미 가입된 사용자인지 확인.
  - **가입자**: 로그인 후 바로 팀 합류.
  - **미가입자**: 회원가입 페이지로 이동 -> 가입 완료 시 팀 합류.

## 🔧 기술적 진행사항

### JWT Token

```python
payload = {
    "team_id": team_id,
    "email": email,
    "role": role,
    "exp": datetime.utcnow() + timedelta(hours=24)
}
token = jwt.encode(payload, SECRET_KEY, algorithm="HS256")
```

## 📊 진행 상황

| 항목 | 계획 | 실제 | 상태 |
|------|------|------|------|
| 템플릿 제작 | 완료 | 완료 | ✅ |
| 발송 로직 | 완료 | 완료 | ✅ |

## 🚧 이슈 사항 및 해결 방안

- **스팸 분류**: 초대 메일이 스팸함으로 빠지는 경우. -> SPF, DKIM 설정 재확인 및 메일 본문에 "주소록에 추가해주세요" 문구 삽입.

## 📝 내일 계획

1. 초대 수락 및 팀원 목록 UI
2. 주간 성과 정리

---

## 📚 참고 자료

- [1] "Email Deliverability Best Practices". [Link](https://sendgrid.com/blog/email-deliverability-best-practices/)

<details>
<summary>IRIS 붙여넣기용 HTML 코드</summary>

```html
<h3>1. 초대 메일 템플릿</h3>
<ul>
<li><strong>제목</strong>: "[PADIEM] 강철원님이 '개발팀' 워크스페이스에 초대했습니다."</li>
<li><strong>내용</strong>: 팀 이름, 초대자 이름, '수락하기' 버튼.</li>
<li><strong>링크</strong>: <code>/invite/accept?token={jwt_token}</code> 형식. 토큰에는 팀 ID, 이메일, 역할 정보 포함. 유효기간 24시간.</li>
</ul>
<h3>2. 발송 로직</h3>
<ul>
<li>AWS SES 사용.</li>
<li>이미 가입된 사용자인지 확인.
<ul>
<li><strong>가입자</strong>: 로그인 후 바로 팀 합류.</li>
<li><strong>미가입자</strong>: 회원가입 페이지로 이동 -&gt; 가입 완료 시 팀 합류.</li>
</ul>
</li>
</ul>
```

</details>
