# 연구노트 (책임자 관점)

- **날짜**: 2024-10-11
- **작성자**: 강혜림
- **역할**: 책임연구원
- **진행 단계**: 1단계 기초연구·설계
- **아젠다**: 핵심 AI 음성 모듈(RVC, VALL-E X, FastPitch, Wav2Lip) 파라미터 및 목표 지표 합의

---

## 1. 연구 배경·목적 정리 (책임 관점)

- 오늘은 과제 성패를 좌우하는 **핵심 AI 모듈들의 성능·품질 지표와 파라미터 범위**를 책임자 레벨에서 합의하는 날이었다.
- IRIS 연구계획서상 정량 목표(음성 품질, 화자 보존도, 추론 지연시간 등)를 실제 모델 구성과 어떻게 매핑할지 논의했다.
- 목표는
  - **정확도(자연스러움/명료도)**
  - **화자 보존도(speaker similarity)**
  - **추론 지연시간(실시간성)**
  을 동시에 만족하는 균형점(balanced optimum)을 찾는 것이다.

---

## 2. 오늘 진행 내용 (세부)

### 2.1 RVC 모듈 파라미터 합의
- Content encoder: HuBERT Base v3 사용을 기본으로 확정.
- f0 추출은 Dio 기반으로 통일하고, hop length 320 기준으로 벤치마크 진행.
- 학습 관련 핵심 파라미터(learning rate 1e-4, batch size 16, speaker embedding 256 등)를 문서화하여 `model_params_v0.1`에 반영.

### 2.2 VALL-E X 파라미터·토크나이저 전략
- 다국어 토크나이저(ko/en/ja/zh)를 사용하고, codec LM context 길이는 1024 토큰으로 설정.
- 샘플링 전략(temperature, top-k, top-p)을
  - 자연스러움 vs 안정성 트레이드오프를 고려해
  - temperature 0.6~0.8, top-k 40, top-p 0.9 범위 안에서 실험하기로 결정.

### 2.3 FastPitch TTS 강화 방향
- Speaker-conditioned layer normalization, phoneme dropout(0.1) 등을 통해 다양한 화자·발화 속도에 견고하도록 설계.
- Pitch predictor에 relative position encoding을 도입해 길이가 긴 문장에서도 억양이 자연스럽게 유지되도록 방향 설정.

### 2.4 Wav2Lip 개선 방향
- Visual encoder를 SwinV2-Base로 교체해 고해상도 영상에서도 입모양 추적 성능을 확보.
- Audio encoder에는 conformer 블록을 추가해 음성 특징 표현력을 강화.

### 2.5 GPU·성능 벤치마크
- A100 80GB 기준으로 추론 지연시간 420ms → 360ms까지 개선 가능한 구성 후보를 도출.
- 4개 언어, 120문장 샘플을 대상으로 초기 벤치마크 계획 수립.

---

## 3. 책임자 관점 의사결정·리스크

- **결정 1: 모델 크기 vs 지연시간**
  - A100 환경을 기준으로 모델 사이즈·컨텍스트 길이를 설정하고, 추후 리소스가 작은 환경(예: 연구소 내 테스트 서버)에는 pruning/knowledge distillation로 대응하기로 결정.

- **결정 2: 품질 기준선(Baseline) 확정**
  - 음질/자연스러움, 화자 보존도, 지연시간에 대한 최소 기준값을 문서화하고, 이후 모든 실험이 이 기준 이상을 만족하도록 관리.

- **리스크 1: 파라미터 조합 폭발**
  - 각 모듈마다 조정 가능한 파라미터가 많아 조합 수가 급격히 늘어날 위험.
  - → **대응**: 실험 설계 단계에서 변경 축을 최소화하고, 우선순위 높은 파라미터(temperature, context length, batch size 등)부터 단계적으로 튜닝.

- **리스크 2: 다국어 커버리지**
  - 4개 언어(ko/en/ja/zh)를 한 번에 다루기 때문에, 언어별 편차가 발생할 수 있다.
  - → **대응**: 언어별로 최소 샘플 수를 확보하고, 지표를 언어별로 분리해 관리.

---

## 4. 지표·산출물 정리

- **문서**
  - `docs/models/model_params_v0.1.xlsx`에 핵심 파라미터 12항목 정리.
- **성능 초기 결과(초안)**
  - 평균 추론 지연시간 약 360ms 수준까지 개선 가능하다는 가설 설정.
  - 화자 보존도 목표: cosine similarity 0.87 이상.

---

## 5. 다음 액션 (책임 관점 To-do)

1. **10/14 ~ 10/16**
   - 출력/QC 파이프라인 설계와 연결해, 오늘 합의한 모델 구성이 실제 렌더링/립싱 품질에 어떤 영향을 주는지 확인.
   - 10/16 GPU 최적화 실험에서 오늘 정의한 파라미터 셋을 기준 구간으로 사용.

2. **10월 말**
   - 10월 KPI 정리 시(10/31), 모델 성능 지표(지연시간, 화자 보존도, 언어별 품질)를 별도 섹션으로 정리해 IRIS 본문/부록에 넣을 수 있도록 준비.

---

## 6. 참고 문서·링크

- 모델 관련 논문·레퍼런스
  - FastPitch, VALL-E X, Wav2Lip 관련 논문 및 공식 문서 (원본 노트 참고).
- 내부 문서
  - `docs/models/model_params_v0.1.xlsx`

> 메모: 이 노트는 2024-10-11 원본 연구노트의 모델 파라미터 논의를 책임자 관점에서 정리한 것으로, 이후 성능 최적화(10/16) 및 10월 말 KPI 정리에 직접 연결될 예정.